/// <reference types="node" />
import type { ParamInfoMap } from "@zwave-js/config";
import { CommandClasses, ConfigValueFormat, type ConfigurationMetadata, type MaybeNotKnown, type MessageOrCCLogEntry, type SupervisionResult, type ValueID, ZWaveError, ZWaveErrorCodes } from "@zwave-js/core/safe";
import type { ZWaveApplicationHost, ZWaveHost } from "@zwave-js/host/safe";
import { CCAPI, POLL_VALUE, type PollValueImplementation, SET_VALUE, type SetValueImplementation } from "../lib/API";
import { type CCCommandOptions, CommandClass, type CommandClassDeserializationOptions } from "../lib/CommandClass";
import { type ConfigValue, ConfigurationCommand } from "../lib/_Types";
export declare class ConfigurationCCError extends ZWaveError {
    readonly message: string;
    readonly code: ZWaveErrorCodes;
    readonly argument: number;
    constructor(message: string, code: ZWaveErrorCodes, argument: number);
}
export declare const ConfigurationCCValues: Readonly<{
    paramInformation: ((parameter: number, bitMask?: number | undefined) => {
        readonly meta: {
            readonly type: "any";
            readonly readable: true;
            readonly writeable: true;
        };
        readonly id: {
            commandClass: CommandClasses.Configuration;
            property: number;
            propertyKey: number | undefined;
        };
        readonly endpoint: (endpoint?: number | undefined) => {
            readonly commandClass: CommandClasses.Configuration;
            readonly endpoint: number;
            readonly property: number;
            readonly propertyKey: number | undefined;
        };
    }) & {
        is: (valueId: ValueID) => boolean;
        readonly options: {
            readonly internal: false;
            readonly minVersion: 1;
            readonly secret: false;
            readonly stateful: true;
            readonly supportsEndpoints: true;
            readonly autoCreate: true;
        };
    };
    isParamInformationFromConfig: {
        readonly id: {
            commandClass: CommandClasses.Configuration;
            property: "isParamInformationFromConfig";
        };
        readonly endpoint: (endpoint?: number | undefined) => {
            readonly commandClass: CommandClasses.Configuration;
            readonly endpoint: number;
            readonly property: "isParamInformationFromConfig";
        };
        readonly is: (valueId: ValueID) => boolean;
        readonly meta: {
            readonly type: "any";
            readonly readable: true;
            readonly writeable: true;
        };
        readonly options: {
            readonly stateful: true;
            readonly secret: false;
            readonly minVersion: 1;
            readonly autoCreate: true;
            readonly internal: true;
            readonly supportsEndpoints: false;
        };
    };
}>;
/** @publicAPI */
export type ConfigurationCCAPISetOptions = {
    parameter: number;
} & ({
    bitMask?: undefined;
    value: ConfigValue;
} | {
    bitMask?: undefined;
    value: ConfigValue;
    valueSize: 1 | 2 | 4;
    valueFormat: ConfigValueFormat;
} | {
    bitMask: number;
    value: number;
});
export declare class ConfigurationCCAPI extends CCAPI {
    supportsCommand(cmd: ConfigurationCommand): MaybeNotKnown<boolean>;
    protected get [SET_VALUE](): SetValueImplementation;
    protected get [POLL_VALUE](): PollValueImplementation;
    /**
     * Requests the current value of a given config parameter from the device.
     * This may timeout and return `undefined` if the node does not respond.
     * If the node replied with a different parameter number, a `ConfigurationCCError`
     * is thrown with the `argument` property set to the reported parameter number.
     */
    get(parameter: number, options?: {
        valueBitMask?: number;
        allowUnexpectedResponse?: boolean;
    }): Promise<MaybeNotKnown<ConfigValue>>;
    /**
     * Requests the current value of the config parameters from the device.
     * When the node does not respond due to a timeout, the `value` in the returned array will be `undefined`.
     */
    getBulk(options: {
        parameter: number;
        bitMask?: number;
    }[]): Promise<{
        parameter: number;
        bitMask?: number;
        value: MaybeNotKnown<ConfigValue>;
    }[]>;
    /**
     * Sets a new value for a given config parameter of the device.
     */
    set(options: ConfigurationCCAPISetOptions): Promise<SupervisionResult | undefined>;
    /**
     * Sets new values for multiple config parameters of the device. Uses the `BulkSet` command if supported, otherwise falls back to individual `Set` commands.
     */
    setBulk(values: ConfigurationCCAPISetOptions[]): Promise<SupervisionResult | undefined>;
    /**
     * Resets a configuration parameter to its default value.
     *
     * WARNING: This will throw on legacy devices (ConfigurationCC v3 and below)
     */
    reset(parameter: number): Promise<SupervisionResult | undefined>;
    /**
     * Resets multiple configuration parameters to their default value. Uses BulkSet if supported, otherwise falls back to individual Set commands.
     *
     * WARNING: This will throw on legacy devices (ConfigurationCC v3 and below)
     */
    resetBulk(parameters: number[]): Promise<SupervisionResult | undefined>;
    /** Resets all configuration parameters to their default value */
    resetAll(): Promise<void>;
    getProperties(parameter: number): Promise<Pick<ConfigurationCCPropertiesReport, "valueSize" | "noBulkSupport" | "isAdvanced" | "valueFormat" | "minValue" | "maxValue" | "defaultValue" | "nextParameter" | "altersCapabilities" | "isReadonly"> | undefined>;
    /** Requests the name of a configuration parameter from the node */
    getName(parameter: number): Promise<MaybeNotKnown<string>>;
    /** Requests usage info for a configuration parameter from the node */
    getInfo(parameter: number): Promise<MaybeNotKnown<string>>;
    /**
     * This scans the node for the existing parameters. Found parameters will be reported
     * through the `value added` and `value updated` events.
     *
     * WARNING: This method throws for newer devices.
     *
     * WARNING: On nodes implementing V1 and V2, this process may take
     * **up to an hour**, depending on the configured timeout.
     *
     * WARNING: On nodes implementing V2, all parameters after 255 will be ignored.
     */
    scanParametersLegacy(): Promise<void>;
}
export declare class ConfigurationCC extends CommandClass {
    ccCommand: ConfigurationCommand;
    interview(applHost: ZWaveApplicationHost): Promise<void>;
    refreshValues(applHost: ZWaveApplicationHost): Promise<void>;
    /**
     * Whether this node's param information was loaded from a config file.
     * If this is true, we don't trust what the node reports
     */
    protected paramExistsInConfigFile(applHost: ZWaveApplicationHost, parameter: number, valueBitMask?: number): boolean;
    /**
     * **INTERNAL:** Returns the param info that was queried for this node. This returns the information that was returned by the node
     * and does not include partial parameters.
     */
    getQueriedParamInfos(applHost: ZWaveApplicationHost): Record<number, ConfigurationMetadata>;
    /**
     * Returns stored config parameter metadata for all partial config params addressed with the given parameter number
     */
    getPartialParamInfos(applHost: ZWaveApplicationHost, parameter: number): (ValueID & {
        metadata: ConfigurationMetadata;
    })[];
    /**
     * Computes the full value of a parameter after applying a partial param value
     */
    composePartialParamValue(applHost: ZWaveApplicationHost, parameter: number, bitMask: number, partialValue: number): number;
    /**
     * Computes the full value of a parameter after applying multiple partial param values
     */
    composePartialParamValues(applHost: ZWaveApplicationHost, parameter: number, partials: {
        bitMask: number;
        partialValue: number;
    }[]): number;
    /** Deserializes the config parameter info from a config file */
    deserializeParamInformationFromConfig(applHost: ZWaveApplicationHost, config: ParamInfoMap): void;
    translatePropertyKey(applHost: ZWaveApplicationHost, property: string | number, propertyKey?: string | number): string | undefined;
    translateProperty(applHost: ZWaveApplicationHost, property: string | number, propertyKey?: string | number): string;
}
/** @publicAPI */
export interface ConfigurationCCReportOptions extends CCCommandOptions {
    parameter: number;
    value: ConfigValue;
    valueSize: number;
    valueFormat?: ConfigValueFormat;
}
export declare class ConfigurationCCReport extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCReportOptions);
    parameter: number;
    value: ConfigValue;
    valueSize: number;
    private valueFormat?;
    persistValues(applHost: ZWaveApplicationHost): boolean;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export interface ConfigurationCCGetOptions extends CCCommandOptions {
    parameter: number;
    /**
     * If this is `true`, responses with different parameters than expected are accepted
     * and treated as hints for the first parameter number.
     */
    allowUnexpectedResponse?: boolean;
}
export declare class ConfigurationCCGet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCGetOptions);
    parameter: number;
    allowUnexpectedResponse: boolean;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export type ConfigurationCCSetOptions = CCCommandOptions & ({
    parameter: number;
    resetToDefault: true;
} | {
    parameter: number;
    resetToDefault?: false;
    valueSize: number;
    /** How the value is encoded. Defaults to SignedInteger */
    valueFormat?: ConfigValueFormat;
    value: ConfigValue;
});
export declare class ConfigurationCCSet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCSetOptions);
    resetToDefault: boolean;
    parameter: number;
    valueSize: number | undefined;
    valueFormat: ConfigValueFormat | undefined;
    value: ConfigValue | undefined;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export type ConfigurationCCBulkSetOptions = CCCommandOptions & {
    parameters: number[];
    handshake?: boolean;
} & ({
    resetToDefault: true;
} | {
    resetToDefault?: false;
    valueSize: number;
    valueFormat?: ConfigValueFormat;
    values: number[];
});
export declare class ConfigurationCCBulkSet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCBulkSetOptions);
    private _parameters;
    get parameters(): number[];
    private _resetToDefault;
    get resetToDefault(): boolean;
    private _valueSize;
    get valueSize(): number;
    private _valueFormat;
    get valueFormat(): ConfigValueFormat;
    private _values;
    get values(): number[];
    private _handshake;
    get handshake(): boolean;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export declare class ConfigurationCCBulkReport extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions);
    persistValues(applHost: ZWaveApplicationHost): boolean;
    private _reportsToFollow;
    get reportsToFollow(): number;
    getPartialCCSessionId(): Record<string, any> | undefined;
    expectMoreMessages(): boolean;
    private _defaultValues;
    get defaultValues(): boolean;
    private _isHandshakeResponse;
    get isHandshakeResponse(): boolean;
    private _valueSize;
    get valueSize(): number;
    private _values;
    get values(): ReadonlyMap<number, ConfigValue>;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export interface ConfigurationCCBulkGetOptions extends CCCommandOptions {
    parameters: number[];
}
export declare class ConfigurationCCBulkGet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCBulkGetOptions);
    private _parameters;
    get parameters(): number[];
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
/** @publicAPI */
export interface ConfigurationCCNameReportOptions extends CCCommandOptions {
    parameter: number;
    name: string;
    reportsToFollow: number;
}
export declare class ConfigurationCCNameReport extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCNameReportOptions);
    readonly parameter: number;
    name: string;
    readonly reportsToFollow: number;
    persistValues(applHost: ZWaveApplicationHost): boolean;
    serialize(): Buffer;
    getPartialCCSessionId(): Record<string, any> | undefined;
    expectMoreMessages(): boolean;
    mergePartialCCs(applHost: ZWaveApplicationHost, partials: ConfigurationCCNameReport[]): void;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export declare class ConfigurationCCNameGet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCGetOptions);
    parameter: number;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
/** @publicAPI */
export interface ConfigurationCCInfoReportOptions extends CCCommandOptions {
    parameter: number;
    info: string;
    reportsToFollow: number;
}
export declare class ConfigurationCCInfoReport extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCInfoReportOptions);
    readonly parameter: number;
    info: string;
    readonly reportsToFollow: number;
    persistValues(applHost: ZWaveApplicationHost): boolean;
    serialize(): Buffer;
    getPartialCCSessionId(): Record<string, any> | undefined;
    expectMoreMessages(): boolean;
    mergePartialCCs(applHost: ZWaveApplicationHost, partials: ConfigurationCCInfoReport[]): void;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export declare class ConfigurationCCInfoGet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCGetOptions);
    parameter: number;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
/** @publicAPI */
export interface ConfigurationCCPropertiesReportOptions extends CCCommandOptions {
    parameter: number;
    valueSize: number;
    valueFormat: ConfigValueFormat;
    minValue?: ConfigValue;
    maxValue?: ConfigValue;
    defaultValue?: ConfigValue;
    nextParameter: number;
    altersCapabilities?: boolean;
    isReadonly?: boolean;
    isAdvanced?: boolean;
    noBulkSupport?: boolean;
}
export declare class ConfigurationCCPropertiesReport extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCPropertiesReportOptions);
    persistValues(applHost: ZWaveApplicationHost): boolean;
    parameter: number;
    valueSize: number;
    valueFormat: ConfigValueFormat;
    minValue: MaybeNotKnown<ConfigValue>;
    maxValue: MaybeNotKnown<ConfigValue>;
    defaultValue: MaybeNotKnown<ConfigValue>;
    nextParameter: number;
    altersCapabilities: MaybeNotKnown<boolean>;
    isReadonly: MaybeNotKnown<boolean>;
    isAdvanced: MaybeNotKnown<boolean>;
    noBulkSupport: MaybeNotKnown<boolean>;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export declare class ConfigurationCCPropertiesGet extends ConfigurationCC {
    constructor(host: ZWaveHost, options: CommandClassDeserializationOptions | ConfigurationCCGetOptions);
    parameter: number;
    serialize(): Buffer;
    toLogEntry(applHost: ZWaveApplicationHost): MessageOrCCLogEntry;
}
export declare class ConfigurationCCDefaultReset extends ConfigurationCC {
}
//# sourceMappingURL=ConfigurationCC.d.ts.map